<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ุงูุฅุนุฏุงุฏุงุช | ููุญุฉ ุชุญูู ุจูุญ</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/css/admain.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/css/settings.css') }}" rel="stylesheet">
</head>
<body>

  <header class="main-header">
    <h1>๐ ุจูุญ</h1>
    <div class="user-info">
      <span>ูุฑุญุจุงูุ {{ session.get('admin_username', 'ุฃุฏูู') }}</span>
      </div>
  </header>

  <div class="dashboard-container">
    <aside class="sidebar">
      <nav>
        <ul class="sidebar-menu">
          <li><a href="{{ url_for('admain') }}"><span>๐</span> ูุธุฑุฉ ุนุงูุฉ</a></li>
         <li><a href="{{ url_for('users') }}"><span>๐ฅ</span> ุงููุณุชุฎุฏููู</a></li>
          <li><a href="{{ url_for('settings') }}" class="active"><span>โ๏ธ</span> ุงูุฅุนุฏุงุฏุงุช</a></li>
        </ul>
      </nav>
    </aside>

    <main class="main-content">
      <section class="section-header">
        <h2>ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ</h2>
      </section>

      <!-- ุนุฑุถ ุฑุณุงุฆู Flash -->
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <div class="flash-messages">
            {% for category, message in messages %}
              <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <section class="settings-form">
        <h3>ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู</h3>
        <form method="POST" action="{{ url_for('settings') }}">
          
          <input type="hidden" name="action" value="update_profile">
          <div class="form-group">
            <label for="admin-username">ุงุณู ุงููุณุชุฎุฏู:</label>
            <input type="text" id="admin-username" name="admin-username" value="{{ admin.username }}" disabled> <!-- ุงุณู ุงููุณุชุฎุฏู ูููุฑุงุกุฉ ููุท -->
          </div>
          <div class="form-group">
            <label for="admin-email">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุฅุฏุงุฑุฉ:</label>
            <input type="email" id="admin-email" name="admin-email" value="{{ admin.email }}" required>
          </div>
          <div class="form-actions">
            <button type="submit" class="save-btn">ุญูุธ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</button>
          </div>
        </form>
      </section>

      <section class="settings-form">
        <h3>ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</h3>
        <form method="POST" action="{{ url_for('settings') }}">
          <input type="hidden" name="action" value="change_password">
          <div class="form-group">
            <label for="current-password">ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ:</label>
            <input type="password" id="current-password" name="current-password" required>
          </div>
          <div class="form-group">
            <label for="new-password">ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ:</label>
            <input type="password" id="new-password" name="new-password" required>
          </div>
          <div class="form-group">
            <label for="confirm-password">ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ:</label>
            <input type="password" id="confirm-password" name="confirm-password" required>
          </div>
          <div class="form-actions">
            <button type="submit" class="save-btn">ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</button>
          </div>
        </form>
        
      </section>

      <!-- ูููู ุฅุถุงูุฉ ุฃูุณุงู ุฃุฎุฑู ููุฅุนุฏุงุฏุงุช ููุง -->

    </main>
  </div>

</body>
</html>
