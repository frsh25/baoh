 
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø¨ÙˆØ­</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <link href="{{ url_for('static', filename='assets/css/admain.css') }}" rel="stylesheet">
   
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

  <header class="main-header">
    <h1>ğŸ“Š Ø¨ÙˆØ­</h1>
    <div class="user-info">
      <span>Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ø£Ø¯Ù…Ù†</span>
     
    </div>
  </header>

  <div class="dashboard-container">
    <aside class="sidebar">
      <nav>
        <ul class="sidebar-menu">
          <li><a href="{{ url_for('admain') }}" class="active"><span>ğŸ“Š</span> Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</a></li>
        <li><a href="{{ url_for('users') }}"><span>ğŸ‘¥</span> Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙˆÙ†</a></li>
          <li><a href="{{ url_for('settings') }}"><span>âš™ï¸</span> Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a></li>
        </ul>
      </nav>
    </aside>
    

    <main class="main-content">
      <section class="cards">
        <div class="card"><h3>Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©</h3><p>{{ positive_count }}</p></div>
        <div class="card"><h3>Ø³Ù„Ø¨ÙŠØ©</h3><p>{{ negative_count }}</p></div>
        <div class="card"><h3>Ø­ÙŠØ§Ø¯ÙŠØ©</h3><p>{{ neutral_count }}</p></div>
        <div class="card"><h3>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª</h3><p>{{ total_posts }}</p></div>
      </section>

      <section class="chart-section">
        <h2>ØªØºÙŠØ± Ø§Ù„Ù…Ø´Ø§Ø¹Ø± Ø®Ù„Ø§Ù„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</h2>
        <canvas id="lineChart"></canvas>
      </section>

      <section class="keywords">
        <h2>Ø£ÙƒØ«Ø± Ø§Ù„ÙƒÙ„Ù…Ø§Øª ØªÙƒØ±Ø§Ø±Ù‹Ø§</h2>
        <ul>
          {% for keyword in top_keywords %}
            <li>{{ keyword }}</li>
          {% endfor %}
        </ul>
      </section>

      <section class="posts-table">
        <h2>Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª</h2>
        <table>
          <thead>
            <tr>
              <th>Ø§Ù„Ù…Ù†Ø´ÙˆØ±</th>
              <th>Ø§Ù„Ù†ÙˆØ¹</th>
              <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
            </tr>
          </thead>
          <tbody>
            {% for post in latest_posts %}
              <tr>
                <td>{{ post.csv_text|truncate(50) }}</td>
                <td class="{% if post.csv_prediction == 'positive' %}positive{% elif post.csv_prediction == 'negative' %}negative{% else %}neutral{% endif %}">
                  {% if post.csv_prediction == 'positive' %}Ø¥ÙŠØ¬Ø§Ø¨ÙŠ{% elif post.csv_prediction == 'negative' %}Ø³Ù„Ø¨ÙŠ{% else %}Ø­ÙŠØ§Ø¯ÙŠ{% endif %}
                </td>
                <td>{{ post.csv_date_uploaded.strftime('%d %b') }}</td>
              </tr>
            {% else %}
              <tr><td colspan="3">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </section>
    </main>
  </div>
  <script>
    const ctx = document.getElementById('lineChart').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        labels: {{ sentiment_data.labels | tojson | safe }},
        datasets: [
          {
            label: 'Ø¥ÙŠØ¬Ø§Ø¨ÙŠ',
            data: {{ sentiment_data.positive | tojson | safe }},
            borderColor: '#4CAF50',
            borderWidth: 2,
            tension: 0.4,
            fill: false
          },
          {
            label: 'Ø³Ù„Ø¨ÙŠ',
            data: {{ sentiment_data.negative | tojson | safe }},
            borderColor: '#F44336',
            borderWidth: 2,
            tension: 0.4,
            fill: false
          },
          {
            label: 'Ø­ÙŠØ§Ø¯ÙŠ',
            data: {{ sentiment_data.neutral | tojson | safe }},
            borderColor: '#FF9800',
            borderWidth: 2,
            tension: 0.4,
            fill: false
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: {
            position: 'top'
          },
          title: {
            display: true,
            text: 'ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø´Ø§Ø¹Ø± Ø¨Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª'
          }
        }
      }
    });
  </script>
  


</body>
</html>
